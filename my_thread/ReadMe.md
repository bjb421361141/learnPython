# 进程 vs. 线程
###基本含义：
* 线程：一个线程可以拥有多个子线程，线程具有原子性、它没有独立的内存地址、但可以共享进程内的资源，相互依赖。
* 进程：一个进程可以拥有多个子进程，每个进程至少包含一个线程（主进程），进程具有独立的内存地址，而进程只能共享进程内的资源,进程间资源无法共享（没有共享内存区，但是可以通过磁盘上的文件进行信息共享（速度慢））
* \* 拓展：纤程是小于线程的类线程，它们不会被cpu直接调用，纤程切换时所以耗费的资源小于线程切换，而且可控。纤程的原理类似于函数的调用
###其他：	
* CPU的最小操作单位为线程，操作系统负责线程的调度和切换
* 不同进程间发生异常不会有影响（稳定性高），同一进程(线程)下的子线程发生异常会有影响（尤其是对资源的操作，因为内存是共享的）
* 操作系统中任务的完成形式有：多进程模式，多线程模式（一个轻量级进程多个线程），多进程+多线程
### 1、设计模式：
* Master-worker模式：Master进程（线程）用于工作的分配，worker进程（线程）用于工作的处理。一般Master处理的资源消耗较小
多进程模式在创建进程的过程中资源消耗大尤其是Windows系统，但是稳定性高，多线程在创建线程的过程中消耗相对较小，线程中可通信，但稳定性差（资源共享问题）。
### 2、线程切换：
* 线程和进程的切换是由操作系统进行调度处理，进程和线程的数量一旦过多会导致CPU处理工作的时间都用在操作系统调度线程和环境处理上（寄存器上信息的保存和还原）
### 3、计算密集型和IO密集型：
* 计算密集型：进行大量的计算，消耗CPU资源，比如计算圆周率、对视频进行高清解码等等，全靠CPU的运算能力（任务越多，花在任务切换的时间就越多，CPU执行任务的效率就越低）
* IO密集型：涉及到网络、磁盘IO的任务都是IO密集型任务（CPU消耗很少）
> * 计算密集型任务由于主要消耗CPU资源，因此，代码运行效率至关重要。Python这样的脚本语言运行效率很低，完全不适合计算密集型任务
> * IO密集型任务执行期间，99%的时间都花在IO上，最合适的语言就是开发效率最高（代码量最少）的语言
### 4、异步IO：
* 考虑到CPU和IO之间巨大的速度差异，一个任务在执行的过程中大部分时间都在等待IO操作，单进程单线程模型会导致别的任务无法并行执行，因此，我们才需要多进程模型或者多线程模型来支持多任务并发执行